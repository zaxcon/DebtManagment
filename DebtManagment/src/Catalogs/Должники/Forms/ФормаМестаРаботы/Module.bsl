
&НаКлиенте
Процедура ЗаписатьЗакрыть(Команда)
		Если ПроверитьЗаполнение() Тогда
		СтруктураЗакрытия =ПолучитьСтруктуруПараметровМестаРаботы();
		ЗаполнитьЗначенияСвойств(СтруктураЗакрытия, ЭтотОбъект);
		Закрыть(СтруктураЗакрытия);
	КонецЕсли;
КонецПроцедуры

&НаСервере
Функция ПолучитьСтруктуруПараметровМестаРаботы()
	Возврат Справочники.Должники.ПолучитьСтруктуруПараметровМестаРаботы();
КонецФункции

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ПараметрыЗаполнения = "";
	Если Параметры.Свойство("ПараметрыЗаполнения",ПараметрыЗаполнения) тогда
		Для Каждого Элемент из ПараметрыЗаполнения Цикл  
			Если ОбщийМодульПользовательский.ЕстьРеквизитИлиСвойствоОбъекта(ЭтотОбъект,Элемент.Ключ) тогда
				ЭтотОбъект[Элемент.Ключ] =Элемент.Значение; 
			КонецЕсли;
		КонецЦикла;	
	КонецЕсли;	
	 ОпределитьДоступностьПолей();
КонецПроцедуры

&НаСервере
Процедура ОпределитьДоступностьПолей()

КонецПроцедуры
